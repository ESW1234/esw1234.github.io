<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="salesforce-community" content="[communityurl]">
    <meta name="salesforce-client-id" content="[consumerkeyfromconnectedapp]">
    <meta name="salesforce-redirect-uri" content="http://esw1234.github.io/callback_login.html">
	<meta name="salesforce-mode" content="inline">
	<meta name="salesforce-target" content="#salesforce-login">
    <meta name="salesforce-login-handler" content="onLogin">
    <meta name="salesforce-logout-handler" content="onLogout">
	<link href="[communityurl]/servlet/servlet.loginwidgetcontroller?type=css" rel="stylesheet" type="text/css" />  
    <script src="[communityurl]/servlet/servlet.loginwidgetcontroller?type=javascript_widget" async defer></script>
	<script>
	function onLogin(identity) {
		
		var targetDiv = document.querySelector(SFIDWidget.config.target);	
		var img = document.createElement('img'); 
	 	img.src = identity.photos.thumbnail; 
		img.className = "sfid-avatar";
	
		var username = document.createElement('span'); 
		username.innerHTML = identity.username;
		username.className = "sfid-avatar-name";
	
		var iddiv = document.createElement('div'); 
	 	iddiv.id = "sfid-identity";
		iddiv.appendChild(img);		
		iddiv.appendChild(username);		
	
		targetDiv.innerHTML = '';
		targetDiv.appendChild(iddiv);	
	}
	
	function onLogout() {
		SFIDWidget.init();
	}
	
	</script>
	
	
</head>	
<body>
	<div id="salesforce-login" data-login-event="onLogin"></div>
</body>
</html>
