
<!DOCTYPE HTML>
<html>
   <head>
   <title>DEFAULT PAGE</title>
   <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0">
</head>
<body>
<div id="button_goes_here"> 
<style type='text/css'>
.embeddedServiceHelpButton .helpButton .uiButton { background-color: #18CD7F; font-family: "Verdana", sans-serif; }
.embeddedServiceHelpButton .helpButton .uiButton:focus { outline: 1px solid #18CD7F; }
</style>
<script type='text/javascript' src='https://service.force.com/embeddedservice/3.0/esw.min.js'></script>
<script type='text/javascript'>
var initESW = function(gslbBaseURL) {
embedded_svc.settings.displayHelpButton = true; //Or false
embedded_svc.settings.language = ''; //For example, enter 'en' or 'en-US'

//embedded_svc.settings.defaultMinimizedText = '...'; //(Defaults to Chat with an Expert)
//embedded_svc.settings.disabledMinimizedText = '...'; //(Defaults to Agent Offline)

//embedded_svc.settings.loadingText = ''; //(Defaults to Loading)
//embedded_svc.settings.storageDomain = 'yourdomain.com'; //(Sets the domain for your deployment so that visitors can navigate subdomains during a chat session)

// Settings for Live Agent
embedded_svc.settings.avatarImgURL = '';
embedded_svc.settings.prechatBackgroundImgURL = '';
embedded_svc.settings.waitingStateBackgroundImgURL = '';
embedded_svc.settings.smallCompanyLogoImgURL = '';

embedded_svc.settings.enabledFeatures = ['LiveAgent'];
embedded_svc.settings.entryFeature = 'LiveAgent';

embedded_svc.init('http://analshah-wsm9.internal.salesforce.com:6109', 'http://justincommunitessubdomain-15-15d9ff0a318.localhost.soma.force.com:6109/p1483488811497', gslbBaseURL, '00Dxx0000001gER', 'a', { baseLiveAgentContentURL: 'http://analshah-wsm9.internal.salesforce.com:8095/content', deploymentId: '572xx0000000001', buttonId: '573xx0000000001', baseLiveAgentURL: 'http://analshah-wsm9.internal.salesforce.com:8096/chat', eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04Ixx0000000006EAA_15da008c9f9'}); };if (!window.embedded_svc) { var s = document.createElement('script'); s.setAttribute('src', 'http://analshah-wsm9.internal.salesforce.com:6109/embeddedservice/3.0/esw.min.js'); s.onload = function() { initESW(null); }; document.body.appendChild(s); } else { initESW('http://analshah-wsm9.internal.salesforce.com:6109'); }</script>

var prepopulateForm = setInterval(function() {
   embedded_svc.sidebarInstanceMap[Object.keys(embedded_svc.sidebarInstanceMap)[0]].getActiveState(function(state) {
    var prechatFields = state.get("v.prechatFields");
   if (prechatFields) { 
      console.log("Exists!");
      clearInterval(prepopulateForm);
      prechatFields.forEach(function (prechatField) { 
    if (prechatField.label === "First Name" ){
      prechatField.value = "First Name"
    }
    else if (prechatField.label === "Last Name"){
      prechatField.value = "Last Name"
    }
    });
    state.set("v.prechatFields", prechatFields);}
   }
}, 100);
   
</div>
</body>
</html>
