(void 0===window.QSI.LatencyLog||window.QTest)&&(QSI.LatencyLog={send:function(a,b,c){try{if(void 0===a||void 0===b)return void QSI.dbg.e("Incomplete Latency Data Provided");var d=QSI.baseURL+"Ajax.php?action=LatencyLog",e="";for(var f in QSI.reqID)QSI.reqID.hasOwnProperty(f)&&(e+=f+" ");var g=navigator.userAgent,h={Latency:a,MetricID:b,Message:"url: "+c+", Zone/Intercept ID: "+e+", clientURL: "+QSI.currentURL+", userAgent: "+g+", brandID: "+QSI.global.brandID+", brandDC: "+QSI.global.brandDC+", time: "+a};QSI.util.sendHttpRequest({type:"POST",url:d,header:{"Content-type":"application/x-www-form-urlencoded"},includeCookies:!1,data:QSI.util.buildQueryString(h)})}catch(i){QSI.dbg.e()}},sampledSend:function(a,b,c,d){try{Math.random()<=d/100==!0&&this.send(a,b,c)}catch(e){QSI.dbg.e()}}});
QSI.util={creativeTypes:{EMPTY:"Empty",FEEDBACK_LINK:"FeedbackLink",HTTP_REDIRECT:"HTTPRedirect",IFRAME:"IFrame",INFO_BAR:"InfoBar",LINK:"Link",NO_CREATIVE:"NoCreative",POP_OVER:"PopOver",POP_UNDER:"PopUnder",POP_UP:"PopUp",RELAY:"Relay",SLIDER:"Slider",SOCIAL_MEDIA:"SocialMedia",USER_DEFINED_HTML:"UserDefinedHTML"},originalDocumentOverflow:"auto",$:function(a){return"string"==typeof a&&(a=document.getElementById(a)),a},setStyle:function(a,b){QSI.util.forOwn(b,function(c,d){try{a.style[d]=b[d]}catch(e){QSI.dbg.e(e)}})},getStyle:function(a,b){var c,d=this.getStyles(a);try{c=d?d[b]||d.getPropertyValue(b):void 0}catch(e){c=void 0}return void 0===c?c:c+""},getStyles:function(a){return window.getComputedStyle?a.ownerDocument.defaultView.opener?a.ownerDocument.defaultView.getComputedStyle(a,null):window.getComputedStyle(a,null):document.documentElement.currentStyle?a.currentStyle:void 0},prependElement:function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)},getTempID:function(){return"QSI_"+Math.floor(1e5*Math.random()+1)},isValidID:function(a,b){if(a){if("zone"===b)return"ZN"===a.substring(0,2);if("intercept"===b)return"SI"===a.substring(0,2)}return!1},getDateNow:function(){return Date.now?Date.now():(new Date).valueOf()},getElementHTML:function(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML},getOriginInterceptOfMessage:function(a){if(!QSI.reg)return null;for(var b in QSI.reg){var c=QSI.reg[b];if(c.embeddedTargets)for(var d=0;d<c.embeddedTargets.length;d++)if(c.embeddedTargets[d].contentWindow===a)return QSI.reg[b];if(c.embeddedWindows)for(var e=0;e<c.embeddedWindows.length;e++)if(c.embeddedWindows[e].targetIframe.contentWindow===a)return QSI.reg[b]}return null},tryGetTarget:function(){var a=QSI.reg,b=QSI.id;return a&&b?a[b].getTarget():void 0},buildQueryString:function(a){var b=[];return QSI.util.forOwn(a,function(c,d){b.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]))}),b.join("&")},waitForFocus:function(){var a=QSI.util.Deferred();return document.hasFocus()?a.resolve():QSI.util.observe(window,"focus",function(){a.resolve()}),a.promise()},waitForExitIntent:function(){var a=QSI.util.Deferred();return QSI.util.observe(document,"mouseout",function(b){!document.hasFocus()||b.clientY>0&&b.clientY<window.innerHeight&&b.clientX>0&&b.clientX<window.innerWidth||a.resolve()}),a.promise()},truncateString:function(a,b){var c="...";return null===a||void 0===a?null:a.length<=b?a:a.slice(0,b)+c},ScriptLoader:function(a){var b=this,c=document.getElementsByTagName("script")[0];this.getScriptURL=function(b){return a+b},this.load=function(a,b){var c=d(a,b,!1);return c?c.promise():null},this.loadAndManualResolve=function(a,b){return d(a,b,!0)};var d=function(a,d,f){if(void 0===a||null===a)return null;var g="";d&&(g=e(d));var h,i,j=QSI.util.Deferred();return i=b.getScriptURL(a)+g,h=QSI.util.build("script",{src:i,"data-qsimodule":"script"}),f!==!0&&(QSI.util.observe(h,"load",function(){j.resolve()}),QSI.util.observe(h,"readystatechange",function(){("loaded"===h.readyState||"complete"===h.readyState)&&j.resolve()})),c.parentNode.insertBefore(h,c),j},e=function(a){var b=[];return QSI.util.forOwn(a,function(c,d){b.push(d+"="+a[d])}),"?"+b.join("&")}},generateRandomID:function(a){return a+"_"+Math.round(1e8*Math.random())},build:function(a,b,c){var d=document.createElement(a);if(b){var e=this;QSI.util.forOwn(b,function(a,c){switch(c){case"style":e.setStyle(d,b[c]);break;case"className":d.className=b[c];break;case"id":d.id=b[c];break;default:d.setAttribute(c,b[c])}})}if(c)if(QSI.util.isString(c))"style"==a&&d.styleSheet?d.styleSheet.cssText=c:d.appendChild(document.createTextNode(String(c)));else if(QSI.util.isArray(c))for(var f=0,g=c.length;g>f;f++){var h=c[f];"string"==typeof h||"number"==typeof h?d.appendChild(document.createTextNode(String(h))):h&&h.nodeType&&d.appendChild(h)}return d},showTrialIcon:function(){if(!this.trialIcon){var a=this.build("div",{},[this.build("img",{src:QSI.global.imagePath+"/siteintercept/logo.png"})]);this.trialIcon=a,QSI.util.setStyle(a,{opacity:.5,padding:"20px",bottom:"0",right:"0",position:"fixed"}),document.body.appendChild(a)}},createArrayFromArguments:function(a){return a?Array.prototype.slice.call(a):[]},createArrayFromIterable:function(a){for(var b=a.length||0,c=new Array(b);b--;)c[b]=a[b];return c},sendHttpRequest:function(a){var b=new XMLHttpRequest;b.open(a.type,a.url),a.timeout&&(b.timeout=a.timeout,a.timeoutCallback&&(b.ontimeout=a.timeoutCallback));for(var c in a.header)b.setRequestHeader(c,a.header[c]);a.includeCookies&&(b.withCredentials=!0,b.setRequestHeader("Access-Control-Allow-Credentials","true")),b.onreadystatechange=function(){if(4==b.readyState)if(200==b.status){if(!a.successCallback)return;a.successCallback(b)}else if(a.errorCallback)return void a.errorCallback(b)},b.send(a.data)},Class:function(){function a(){try{this.initialize&&this.initialize.apply(this,arguments)}catch(a){QSI.dbg.e(a)}}function b(b){QSI.util.forOwn(b,function(c,d){a.prototype[d]=b[d]})}for(var c=QSI.util.createArrayFromArguments(arguments),d=0,e=c.length;e>d;d++)b(c[d]);return a},Creative:function(){var creative=this.Class.apply(this,arguments);return creative.prototype.globalInitialize=function(a){this.displayed=QSI.util.Deferred(),this.willShow=QSI.util.Deferred(),this.cookiesEnabled=QSI.util.Deferred(),this.preventRepeatedDisplay=QSI.util.Deferred(),this.localStorageEnabled=QSI.util.Deferred(),this.options=a||{},this.id=this.options.id,this.type=this.options.type,this.displayOptions=this.options.displayOptions||{},this.displayOptions.displayed=this.displayed.promise(),this.interceptDisplayOptions=this.options.interceptDisplayOptions||{},this.actionOptions=this.options.actionOptions||{};var b;if(this.actionOptions.actionSetJavaScriptBeforeDisplay&&this.shouldShow()&&(b=this.actionOptions.actionSetJavaScriptBeforeDisplay,this.evalJS(b)),this.actionOptions.actionSetJavaScript){var c=this;b=this.actionOptions.actionSetJavaScript,this.displayed.done(function(){c.evalJS(b)})}this.actionOptions.actionSetEvents&&QSI.util.processElementEvents(this.actionOptions.actionSetEvents,null,this),this.getType()!=QSI.util.creativeTypes.POP_UNDER&&this.killPopUnder()},creative.prototype.evalJS=function(js){try{eval(js)}catch(e){QSI.dbg.c("Error During Eval JavaScript "+e)}},creative.prototype.getType=function(){return this.type},creative.prototype.getTarget=function(a){var b=this.options.targetURL,c=QSI.EmbeddedData.getEmbeddedDataAsQueryStringParam(this.id,a);return c&&(c=encodeURIComponent(c),"Internet Explorer"==QSI.Browser.name&&QSI.Browser.version<9&&(c=c.substring(0,2050-b.length)),b+="&Q_ED="+c),b},creative.prototype.getTargetHelper=function(a){var b=this;return function(){return b.getTarget(a)}},creative.prototype.resetStyles=function(){if(this.options.resetStyle){var a=QSI.util.build("style",{type:"text/css"});if(a.styleSheet){var b=document.getElementsByTagName("head")[0];b.appendChild(a),a.styleSheet.cssText=this.options.resetStyle}else{document.body.appendChild(a);var c=document.createTextNode(this.options.resetStyle);a.appendChild(c)}}},creative.prototype.killPopUnder=function(){try{var a="QSIPopUnder_"+this.id;if(QSI.cookie.get(a)){var b=QSI.util.openWin("",a);b&&b.w&&(b.w.popunderDead=!0),b.close(),QSI.cookie.erase(a)}}catch(c){}},creative.prototype.shouldShow=function(){var a=!0;return this.interceptDisplayOptions.hideOnCookiesDisabled&&(QSI.cookie.areCookiesEnabled()?this.cookiesEnabled.resolve():(this.cookiesEnabled.reject(),a=!1)),this.interceptDisplayOptions.hideOnLocalStorageDisabled&&(QSI.localStorage.isLocalStorageEnabled()?this.localStorageEnabled.resolve():(this.localStorageEnabled.reject(),a=!1)),this.shouldPreventRepeatedDisplay()?(this.preventRepeatedDisplay.resolve(),a=!1):this.preventRepeatedDisplay.reject(),a?(this.willShow.resolve(),!0):(this.willShow.reject(),!1)},creative.prototype.shouldPreventRepeatedDisplay=function(){var a=!1;if(0!=this.interceptDisplayOptions.noshow)try{null!==QSI.cookie.get(this.id+"_intercept")?(a=!0,QSI.cookie.erase(this.id+"_intercept")):null!==QSI.cookie.get("QSI_"+this.id+"_intercept")&&(a=!0)}catch(b){QSI.dbg.e(b)}else QSI.cookie.erase("QSI_"+this.id+"_intercept");return a},creative.prototype.setPreventRepeatedDisplayCookie=function(){if(this.interceptDisplayOptions&&this.interceptDisplayOptions.noshow&&0!=this.interceptDisplayOptions.noshow&&null===QSI.cookie.get("QSI_"+this.id+"_intercept"))try{QSI.cookie.set("QSI_"+this.id+"_intercept",!0,this.interceptDisplayOptions.noshow,this.interceptDisplayOptions.cookieDomain,{force:!0})}catch(a){QSI.dbg.e(a)}},creative.prototype.impress=function(){QSI.util.impress(this.options.impressionURL);try{var a=(new Date).getTime()/1e3,b=JSON.parse(QSI.localStorage.get("Q_INTER"));null===b&&(b={}),b[this.id]=a,QSI.localStorage.set("Q_INTER",JSON.stringify(b))}catch(c){QSI.dbg.e(c)}this.setPreventRepeatedDisplayCookie()},creative.prototype.close||(creative.prototype.close=function(){}),creative.prototype.remove||(creative.prototype.remove=creative.prototype.close),creative},evalJSON:function(json){try{return eval("("+json+")")}catch(e){QSI.dbg.e(e)}},isString:function(a){return"string"==typeof a},isArray:function(a){return"object"==typeof a&&a instanceof Array},isFunction:function(a){return"function"==typeof a||!1},isIE8:function(){return this.isIE(8)},isIE:function(a){return"Internet Explorer"!=QSI.Browser.name?!1:a?a==QSI.Browser.version:!0},isChrome:function(){return"Chrome"===QSI.Browser.name},isOpera:function(){return"Opera"===QSI.Browser.name},isFF:function(){return"Firefox"===QSI.Browser.name},isAndroid:function(){return"Android"===QSI.OS.name},removePx:function(a){a=a||"";var b=a.indexOf("px");return b>0&&(a=a.substr(0,b)),a},getDimensions:function(a){var b=!0;a.parentNode&&a.parentNode.tagName||(document.body.appendChild(a),b=!1);var c=a.style.display||this.getComputedStyle(a).display;if("none"!=c&&null!==c){var d={width:a.offsetWidth,height:a.offsetHeight};return b||a.parentNode.removeChild(a),d}var e=a.style,f=e.visibility,g=e.position,h=e.display;e.visibility="hidden",e.position="absolute",e.display="block";var i=a.clientWidth,j=a.clientHeight;return e.display=h,e.position=g,e.visibility=f,b||a.parentNode.removeChild(a),{width:i,height:j}},convertPercentToPixel:function(a,b){return Math.round(a/100*b)},convertPixelToPercent:function(a,b){return Math.round(a/b*100)},cumulativeOffset:function(a){var b,c={top:0,left:0},d=a&&a.ownerDocument;if(d)return b=d.documentElement,"undefined"!=typeof a.getBoundingClientRect&&(c=a.getBoundingClientRect()),{top:c.top+(window.pageYOffset||b.scrollTop)-(b.clientTop||0),left:c.left+(window.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}},getTimeout:function(a){var b=QSI.util.Deferred();return a=1e3*parseFloat(a),window.setTimeout(function(){b.resolve()},a),b.promise()},getComputedStyle:function(a){return a.currentStyle||window.getComputedStyle(a,null)},getWindowSize:function(a){var b=a||window,c=this.getPageSize(a);return{width:b.outerWidth||c.width,height:b.outerHeight||c.height}},getPageSize:function(a){a=a||window;var b=a.document.documentElement||{};return{width:b.clientWidth||a.innerWidth,height:b.clientHeight||a.innerHeight}},getScrollOffsets:function(){var a=window,b=a.document.documentElement,c="pageYOffset",d="pageXOffset",e=d in a?a[d]:b.scrollLeft,f=c in a?a[c]:b.scrollTop;return{left:e,top:f}},startScrolling:function(){if("Internet Explorer"==QSI.Browser.name&&QSI.Browser.version<8){var a=document.getElementsByTagName("html")[0];QSI.util.setStyle(a,{overflow:this.originalDocumentOverflow})}else QSI.util.setStyle(document.body,{overflow:this.originalDocumentOverflow});document.ontouchmove=QSI.touchScrollEvent,QSI.touchScrollEvent=null},stopScrolling:function(){if("Internet Explorer"==QSI.Browser.name&&QSI.Browser.version<8){var a=document.getElementsByTagName("html")[0];this.originalDocumentOverflow=this.originalDocumentOverflow||this.getStyle(a,"overflow"),QSI.util.setStyle(a,{overflow:"hidden"})}else this.originalDocumentOverflow=this.originalDocumentOverflow||this.getStyle(document.body,"overflow"),QSI.util.setStyle(document.body,{overflow:"hidden"});document.ontouchmove&&(QSI.touchScrollEvent=document.ontouchmove),document.ontouchmove=function(a){a.preventDefault()}},hasVerticalScrollbar:function(){var a=document.documentElement;if("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<8)return!0;if("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<9){var b=a.offsetWidth-a.scrollWidth;return b>6}return a.clientWidth<window.innerWidth},hasHorizontalScrollbar:function(){var a=document.documentElement;if("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<8)return!0;if("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<9){var b=a.offsetHeight-a.scrollHeight;return b>6}return a.clientHeight<window.innerHeight},pageMode:function(){return"CSS1Compat"==document.compatMode?"Standards":"Quirks"},isFixed:function(){return!("Internet Explorer"==QSI.Browser.name&&"Standards"!=this.pageMode())},openWin:function(a,b,c){var d=[];return c=c||{},QSI.util.forOwn(c,function(a,b){d.push(b+"="+c[b])}),d=d.join(","),window.open(a,b,d)},getWin:function(a){return"string"==typeof a?window.open("",a):void 0},addOptInIDAndWindowName:function(a,b){var c=window.sessionStorage.getItem("QSI_OptInIDsAndWindowNames")||{};if("string"==typeof c)try{c=JSON.parse(c)}catch(d){return}c[a]=b,c=JSON.stringify(c),window.sessionStorage.setItem("QSI_OptInIDsAndWindowNames",c)},getOptInIDsAndWindowNames:function(){return window.sessionStorage.getItem("QSI_OptInIDsAndWindowNames")},impress:function(a){if(a){var b=QSI.util.build("img",{src:a+"&r="+(new Date).getTime(),style:{display:"none"},alt:""});document.body.appendChild(b)}},getQueryParam:function(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+b+"=([^&#]*)",d=new RegExp(c),e=d.exec(a);return null===e?"":e[1]},capFirst:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},observe:function(a,b,c){this.obs=this.obs||[],a&&(this.obs.push({el:a,e:b,f:c}),a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+this.capFirst(b)]&&(a["on"+this.capFirst(b)]=c))},stopObserving:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+this.capFirst(b)]&&(a["on"+this.capFirst(b)]=null)},removeObservers:function(){var a=this;this.each(this.obs||[],function(b){a.stopObserving(b.el,b.e,b.f)})},hasReachedScrollPosition:function(a){var b=this.getScrollOffsets().top,c=this.getPageSize().height,d=document.body.scrollHeight,e=d*(a/100);return b+c>=e?!0:!1},remove:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},removeAllByQuery:function(a,b){var c=a.querySelectorAll(b);Array.prototype.forEach.call(c,function(a){QSI.util.remove(a)})},buildWidget:function(a,b){var c="build"+a+"Widget";return this[c]?this[c](b):""},buildCCDWidget:function(a){if(a=a||{},a.close&&parseInt(a.close,10)>0){var b=a.close,c=this.getTempID(),d=this.build("span",{id:c},b+""),e=this.build("span",{},[d]),f=this,g=function(){var d=function(){if(!(0>=b)){var a=f.$(c);a&&(a.innerHTML=--b+""),setTimeout(d,1e3)}};a.delay&&a.delay>0?setTimeout(function(){setTimeout(d,1e3)},1e3*a.delay):setTimeout(d,1e3)};return a.displayed?a.displayed.done(function(){g()}):g(),this.getElementHTML(e)}return""},positionFixed:function(a,b,c){a.style.position="absolute";var d,e=0,f=this.getPageSize().height,g=document.body.scrollHeight,h=QSI.util.getScrollOffsets().top;h>0&&("auto"==c?(a.style.top=h+parseInt(b,10)+"px",a.style.bottom=c):"auto"==b&&(a.style.bottom=h+f-parseInt(b,10)+"px",a.style.top=b)),"string"==typeof b&&b.indexOf("px")>-1&&(b=parseInt(b,10)),"string"==typeof c&&c.indexOf("px")>-1&&(c=parseInt(c,10));var i=function(){clearTimeout(d),d=setTimeout(function(){var d=QSI.util.getScrollOffsets().top;if(!(0>d||d+f>g)){var h=d+b,j=h-e,k=j>=0?20:-20;Math.abs(j)<10&&(k=j);var l;e=h,"auto"==c?l=setInterval(function(){var b=parseInt(a.style.top,10)+k;a.style.top=b+"px",a.style.bottom=c,k>0?b>=h&&(clearInterval(l),QSI.util.observe(window,"scroll",i)):h>=b&&(clearInterval(l),QSI.util.observe(window,"scroll",i)),QSI.util.observe(window,"scroll",i)},15):"auto"==b&&(l=setInterval(function(){var e=parseInt(a.style.bottom,10)+k;a.style.bottom=d+f-c+"px",a.style.top=b,a.style.bottom=e+"px",k>0?e>=h&&(clearInterval(l),QSI.util.observe(window,"scroll",i)):h>=e&&(clearInterval(l),QSI.util.observe(window,"scroll",i)),QSI.util.observe(window,"scroll",i)},15))}},60)};QSI.util.observe(window,"scroll",i)},each:function(a,b){var c=a.length;if(c)for(var d=0;c>d;d++)b(a[d],d)},forOwn:function(a,b){if(a&&a instanceof Object&&this.isFunction(b))for(var c in a)a.hasOwnProperty(c)&&b(a[c],c,a)},isObjectEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},filter:function(a,b){try{if(a.filter&&this.isFunction(a.filter))return a.filter(b)}catch(c){}var d=a.length,e=[];if(d)for(var f=0;d>f;f++)b(a[f])&&e.push(a[f]);return e},Deferred:function(){var a={},b="pending",c=[],d=[],e=[],f=[],g={state:function(){return b},then:function(a,b){return this.done(a).fail(b),this},done:function(a){return"pending"==b?e.push(a):"resolved"==b&&a.apply(this,c),this},fail:function(a){return"pending"==b?f.push(a):"rejected"==b&&a.apply(this,d),this},promise:function(){return g}};return QSI.util.forOwn(g,function(b,c){a[c]=g[c]}),a.resolve=function(){if("pending"==b){b="resolved";var a=QSI.util.createArrayFromArguments(arguments);c=a;var d=this;QSI.util.each(e,function(b){b.apply(d,a)})}},a.reject=function(){if("pending"==b){b="rejected";var a=QSI.util.createArrayFromArguments(arguments);d=a;var c=this;QSI.util.each(f,function(b){b.apply(c,a)})}},a},when:function(a){var b=QSI.util.createArrayFromArguments(arguments),c=b.length,d=c,e=1===d?a:QSI.util.Deferred(),f=function(a,b){return function(c){b[a]=arguments.length>1?c:QSI.util.createArrayFromArguments(arguments),--d||e.resolve(b)}};if(c>1)for(var g=0;c>g;g++)b[g]&&b[g].promise?b[g].promise().done(f(g,b)).fail(e.reject):d--;return 1>d&&e.resolve(b),e.promise()},moveToBackground:function(){("Firefox"===QSI.Browser.name||"Internet Explorer"===QSI.Browser.name&&QSI.Browser.version>=11)&&window.open("javascript:window.focus();","_self","")},handleMailTo:function(a,b,c,d){this.addClickImg(b,c,d,function(){window.location.href=a})},addClickImg:function(a,b,c,d){var e=new Date,f=QSI.baseURL+"?Q_Click=1&Q_CID="+c+"&Q_SIID="+a+"&Q_ASID="+b+"&T="+e.getTime()+"&Q_LOC="+encodeURIComponent(window.location.href);this.addImage(f,d)},addImage:function(a,b){var c=QSI.util.build("img",{src:a,alt:""});QSI.util.isIE()&&QSI.util.setStyle(c,{display:"none"}),b&&QSI.util.observe(c,"load",b),document.body.appendChild(c)},processLocators:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];e.locators&&(QSI.PipedText.setLocators(e.locators),e.content=QSI.PipedText.evaluateLocators(e.content,b))}},getDocDimension:function(a){var b=document,c=b.documentElement;return Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])},getDocWidth:function(){return this.getDocDimension("Width")},getDocHeight:function(){return this.getDocDimension("Height")},getScroll:function(){var a=this.getScrollOffsets();return{width:this.getDocWidth(),height:this.getDocHeight(),left:a.left,top:a.top}},fireGoogleEventBeacon:function(a,b,c){return a.search(/^UA-\d+-\d{1,2}$/)<0?void QSI.dbg.c("Google Anylytics Account number is incorrect "+a):void(window.GoogleAnalyticsObject?this.googleEventAnyalytics(window.GoogleAnalyticsObject,a,b,c):this.googleEventGA(a,b,c))},googleEventGA:function(a,b,c){var d="SITracker"+this.getTempID(),e=window._gaq||[];e.push([d+"._setAccount",a]),e.push([d+"._trackEvent",b,c])},googleEventAnyalytics:function(a,b,c,d){var e="SITracker"+this.getTempID();window[a]("create",b,{name:e}),window[a](e+".send","event",c,d)},evalJS:function(stringToEval){return function(){try{eval(stringToEval)}catch(e){QSI.dbg.c("Error During Eval JavaScript "+e)}}},processElementEvents:function(a,b,c){if(!(!a||a.length<=0||a[0].length<=0)){for(var d=new QSI.ActionModule(c),e=a[0],f=0,g=e.length;g>f;f++)d.add(e[f]);d.addToElement(b)}}},QSI.Target=QSI.util.Class({initialize:function(a,b,c,d){this.el=a,this.options=c,this.urlCallback=b,this.deferred=QSI.util.Deferred(),this.parent=d,this.init()},init:function(){var a=this;QSI.util.observe(this.el,"click",function(){a.urlCallback&&(a.openTarget(),a.deferred.resolve())})},openTarget:function(){var a=this.urlCallback(),b=this.options;if(a&&0!==a.indexOf("&"))if(b.targetReplaceContents&&this.parent.getType()!==QSI.util.creativeTypes.USER_DEFINED_HTML&&(b.targetNewWindow=!0,b.targetReplaceContents=!1),b.targetNewWindow)try{var c=QSI.util.getPageSize(),d=b.targetFullScreen?screen.availWidth||screen.width||c.width:b.targetWidth,e=b.targetFullScreen?screen.availHeight||screen.height||c.height:b.targetHeight,f=new Date,g=f.valueOf().toString(),h="targetwindow_"+g,i=QSI.util.openWin(a,h,{status:"yes",scrollbars:"yes",resizable:"yes",width:d,height:e});"undefined"!=typeof this.parent&&QSI.util.addOptInIDAndWindowName(this.parent.id,h);var j=function(){if(window.opener&&window.opener.sessionStorage){var a=window.opener.sessionStorage,b=a.getItem("QSI_OptInIDsAndWindowNames");if(b){try{b=JSON.parse(b)}catch(c){return}for(var d in b)b[d]===window.name&&delete b[d];a.setItem("QSI_OptInIDsAndWindowNames",JSON.stringify(b))}}};i&&(i.onunload=j,i.onbeforeunload=j)}catch(k){QSI.dbg.e(k)}else b.targetEmbedded?new QSI.EmbeddedTarget(a,b,this.parent):b.targetPopUnder?new QSI.PopUnderTarget(a,b,this.parent):b.targetReplaceContents?this.handleReplaceCreative():window.location=a},handleReplaceCreative:function(){var a,b,c=this.parent.node;this.options.sameSizeAsCreative?(a=this.parent.options.size.width,b=this.parent.options.size.height):(a=this.options.targetWidth,b=this.options.targetHeight);var d={width:a+"px",height:b+"px",display:"block",border:"none",outline:"none",zIndex:2e9},e=QSI.util.build("iframe",{src:this.urlCallback()});QSI.util.setStyle(e,d),this.parent.node=e,this.parent.options.size={width:a,height:b},c.parentNode.replaceChild(e,c),this.parent.displayOptions.customPosition&&this.parent.position()},complete:function(){return this.deferred.promise()}}),QSI.ActionModule=QSI.util.Class({initialize:function(a){this.creative=a,this.actions={click:[],mouseout:[],mouseover:[],displayed:[]}},add:function(a){this.actions[a.triggeringEvent]&&this.actions[a.triggeringEvent].push(this.buildAction(a))},buildAction:function(a){var b=this;return{run:function(){b["run"+a.actionType+"Action"]&&b["run"+a.actionType+"Action"](a)}}},runAddCookieAction:function(a){QSI.cookie.set(a.cookieName,a.cookieValue,this.creative.interceptDisplayOptions.cookieDomain)},runRemoveCookieAction:function(a){QSI.cookie.erase(a.cookieName,this.creative.interceptDisplayOptions.cookieDomain)},runGoogleEventAction:function(a){QSI.util.fireGoogleEventBeacon(a.accountNumber,a.actionCategory,a.actionName)},runJavaScriptAction:function(a){QSI.util.evalJS(a.javaScriptString)()},addToElement:function(a){var b=this,c=function(a){var c=!1;return function(){c||(c=!0,b.runAction(a))}};QSI.util.forOwn(this.actions,function(d,e){b.actions[e].length&&("displayed"===e?b.creative.displayed.done(c(b.actions[e])):QSI.util.observe(a,e,c(b.actions[e])))})},runAction:function(a){for(var b=0;b<a.length;b++)a[b].run()}});
function setEDinPlaceholderWindow(a,b){if("string"==typeof a&&"string"==typeof b){var c=QSI.util.getWin(b);if(c){var d=new SIMessage("setEDinPlaceholderWindow",a),e=JSON.stringify(d);c.postMessage(e,"*")}}}function setEmbeddedData(a,b,c){if("undefined"!=typeof a&&"undefined"!=typeof b&&"string"==typeof c){var d=QSI.util.getWin(c);if(d){var e={key:a,value:b},f=new SIMessage("setEmbeddedData",e),g=JSON.stringify(f);if(/targetwindow/.test(c))d.postMessage(g,"*");else try{var h=d.document.getElementById("PopUnderTargetFrame");h&&h.contentWindow.postMessage(g,"*")}catch(i){}}}}function SIMessage(a,b){this.type=a,this.payload=b}var QSI_updatePopunderEDCallback=function(){var a;try{a=JSON.parse(QSI.util.getOptInIDsAndWindowNames())}catch(b){return}if(a)for(var c in a){var d=a[c],e=QSI.EmbeddedData.getEmbeddedData(c),f=QSI.util.buildQueryString(e);if(f.length>0&&(f="&"+f),e&&!QSI.util.isObjectEmpty(e)){if(/placeholderWindow/.test(d))return void setEDinPlaceholderWindow(f,d);for(var g in e)setEmbeddedData(g,e[g],d)}}};QSI.util.isIE(8)||QSI.util.isIE(9)||QSI.util.isIE(10)||QSI.util.isIE(11)||QSI.util.observe(window,"unload",QSI_updatePopunderEDCallback);
(!QSI.EmbeddedData||window.QTest)&&(QSI.EmbeddedData={getHTMLFromDOM:function(a){var b=QSI.util.$(a),c="";if(b)switch(b.tagName){case"TEXTAREA":case"INPUT":c=b.value;break;default:c=b.innerHTML}return c},getCookieVal:function(a){var b="",c=QSI.cookie.get(a);return c&&(b=c),b},getURLParameter:function(a){return QSI.util.getQueryParam(window.location.href,a)},getURLRegexMatch:function(a){var b=/^\/(.*)\/([gim]*)/,c=a.match(b);return c=window.location.href.match(c&&c[1]?new RegExp(c[1],c[2]):new RegExp(a)),c&&c[1]?c[1]:""},getJavaScriptValue:function(varName){var qsi_val="";try{qsi_val=eval(varName)}catch(e){QSI.dbg.e(e)}return qsi_val},getHistory:function(){return QSI.history.get()},getTimeOnSite:function(){return QSI.history.getTimeOnSite()},getCurrentPage:function(){return window.location},getReferer:function(){return QSI.history.getPageReferrer()},getSiteReferer:function(){return QSI.history.getSiteReferrer()},getSearchTerm:function(){return QSI.history.getSearch()},getPageCount:function(){var a=QSI.history.getPageCount();return a.unique},getTotalPageCount:function(){var a=QSI.history.getPageCount();return a.total},getPercentagePageViewed:function(){var a=QSI.history.getPageCount();return a.unique},getSiteInterceptID:function(){return this.siid},getCreativeID:function(){return QSI.global.intercepts[this.siid]&&QSI.global.intercepts[this.siid].CreativeID?QSI.global.intercepts[this.siid].CreativeID:void 0},getEventTrackingData:function(a){return QSI.EventTracker.get(a)},getSiteCatalystValue:function(a){for(var b=a.split("."),c=function(a){return a.charAt(0).toLowerCase()+a.slice(1)},d=QSI.adobeVar.split("."),e=window,f=0;f<d.length;f++)e=e[d[f]];for(var g=0,h=b.length;h>g;g++)e&&(e=e[c(b[g])]);return e?e:null},getEmbeddedData:function(a,b){JSON.stringify(b);b=b||[];return QSI.ed[a]&&(b=b.concat(QSI.ed[a])),this.siid=a,this.generateDynamicEmbeddedData(b)},getEmbeddedDataAsQueryStringParam:function(a,b){var c=this.getEmbeddedData(a,b);return 0===Object.keys(c).length?"":"&"+QSI.util.buildQueryString(c)},generateDynamicEmbeddedData:function(a){var b={};"string"==typeof a&&(a=a.split(""));for(var c=0,d=a.length;d>c;c++)try{var e=a[c];if(e.type&&e.name){var f="";switch(e.type){case"StaticVal":f=e.value;break;case"HTML":f=this.getHTMLFromDOM(e.value);break;case"Cookie":f=this.getCookieVal(e.value);break;case"QueryParam":f=this.getURLParameter(e.value);break;case"URLRegex":f=this.getURLRegexMatch(e.value);break;case"JavaScriptVal":f=this.getJavaScriptValue(e.value);break;case"SiteCatalyst":f=this.getSiteCatalystValue(e.value);break;case"EventTracking":f=this.getEventTrackingData(e.value);break;default:f=this["get"+e.type]?this["get"+e.type](e.value):e.value}f=String(f),b[e.name]=f}}catch(g){QSI.dbg.e(g)}return b}});
(!QSI.history||window.QTest)&&(QSI.history={limit:2e3,logVisit:function(){this.logCurrentURL(),this.logSearch(),this.startFocusTracking(),this.logReferrer()},startFocusTracking:function(){if(!this.started)try{this.started=!0,this.focusTime=this.getFocusTimeFromBrowserStorage(),this.blurTime=this.getBlurTimeFromBrowserStorage();var a=1,b=this;setInterval(function(){b.focused?b.focusTime+=a:b.blurTime+=a},1e3*a);var c=function(){b.focused=!0},d=function(){b.focused=!1};c(),QSI.util.observe(window,"focus",c),QSI.util.observe(window,"blur",d);var e;e=QSI.Browser.isMobile?"pagehide":"unload",QSI.util.observe(window,e,function(){QSI.profile.set("History","BlurTime",b.blurTime),QSI.profile.set("History","FocusTime",b.focusTime)})}catch(f){QSI.dbg.e(f)}},logSite:function(a,b){var c,d=QSI.cookie.get("QSI_HistorySession");if(d){d=decodeURIComponent(d);var e=d.split("|"),f=e[e.length-1];c=f.split("~")[0],d+="|"}else d="",c="";if(a!=c){var g=a+"~"+b;d+=g,this.writeHistory(d)}},writeHistory:function(a,b){if(null!==b&&void 0!==b&&0>=b)return void QSI.cookie.erase("QSI_HistorySession",encodeURIComponent(a),0);b=b||QSI.global.maxCookieSize||this.limit;var c=encodeURIComponent(a),d=this.limitSize(c,b);try{QSI.cookie.set("QSI_HistorySession",d,0)}catch(e){a=decodeURIComponent(d),this.writeHistory(a,b-500)}},limitSize:function(a,b){if(!a.length)return a;for(b=b||this.limit;a.length>b;){var c=decodeURIComponent(a),d=c.split("|");d.splice(0,1),a=d.join("|"),a=encodeURIComponent(a)}return a},get:function(){var a=QSI.cookie.get("QSI_HistorySession"),b=a;return b||(b=[]),b=this.limitSize(b),decodeURIComponent(b)},logCurrentURL:function(){var a=window.location.href,b=1*new Date;this.logSite(a,b)},getReferrer:function(){return document.referrer},logSearch:function(){var a,b,c=this.getReferrer();if(c.search(/(google.com)|(bing.com)|(yahoo.com)/)>=0){var d="";c.search(/(google.com)|(bing.com)/)>=0?(a=/q=(.*?)\&/,b=c.match(a),b&&b.length&&b[1]&&(d=b[1])):c.search(/yahoo.com/)>=0&&(a=/p=(.*?)\&/,b=c.match(a),b&&b.length&&b[1]&&(d=b[1])),d=unescape(d),QSI.profile.set("History","SearchTerm",d)}},logReferrer:function(){var a=this.getReferrer();if(a){var b=QSI.util.build("a",{href:a});b.hostname!=document.location.host&&QSI.profile.set("History","SiteReferrer",a),QSI.profile.set("History","PageReferrer",a)}},logIntercept:function(a,b){b&&this.logActionSet(b)},logActionSet:function(a){if(a.search("AS_")>=0){var b=a,c=1*new Date;QSI.profile.set("ActionSetHistory",b,c),QSI.profile.set("ActionSetHistory",b,c,1)}},logSurvey:function(a,b){QSI.profile.set("QualtricsSurveyHistory",a,b,1)},getSiteReferrer:function(){return QSI.profile.get("History","SiteReferrer")},getPageReferrer:function(){return QSI.profile.get("History","PageReferrer")},getSearch:function(){var a=QSI.profile.get("History","SearchTerm");return a||(a=""),a},getTimeOnSite:function(){var a=this.focusTime,b=this.blurTime;return a+b+"|"+a},getFocusTimeFromBrowserStorage:function(){var a=QSI.profile.get("History","FocusTime");return a||(a=0),a},getBlurTimeFromBrowserStorage:function(){var a=QSI.profile.get("History","BlurTime");return a||(a=0),a},getActionSetHistory:function(a,b){var c=QSI.profile.get("ActionSetHistory",a,b);return c||(c=0),c},getPageCount:function(){var a,b=QSI.cookie.get("QSI_HistorySession"),c=0,d=[];if(b){b=decodeURIComponent(b);var e=b.split("|");for(a=0,ilen=e.length;a<ilen;a++)d.push(e[a].split("~")[0]);var f={};for(a=0,ilen=d.length;a<ilen;a++)f[d[a]]||(c++,f[d[a]]=!0)}return{unique:c,total:d.length}}});
QSI.profile={namespace:"QSI_",set:function(a,b,c,d){if(void 0===a||void 0===b||void 0===c)throw new Error("To few arguments");try{var e=this.getStorage(d),f=this.namespace+a,g=e.getItem(f);g=g?JSON.parse(g):{},g[b]=c,g=JSON.stringify(g),e.setItem(f,g)}catch(h){QSI.dbg.e("error setting profile item"),QSI.dbg.e(h)}},get:function(a,b,c){var d=this.getStorage(c),e=this.namespace+a,f=d.getItem(e);return f?(f=JSON.parse(f),b?f[b]?f[b]:null:f):null},erase:function(a,b,c){var d=this.getStorage(c),e=this.namespace+a;if(b){var f=JSON.parse(d.getItem(e));delete f[b],f=JSON.stringify(f),d.setItem(e,f)}else d.removeItem(e)},getStorage:function(a){if(this.hasSessionStorage())return a?localStorage:sessionStorage;if(QSI.UserDataStorage){var b=QSI.UserDataStorage;return b.isPermanent(a?!0:!1),b}return QSI.CookieStorage},hasSessionStorage:function(){var a="qualtricssessionstoragetestkey",b=window.sessionStorage;try{return b.setItem(a,a),b.removeItem(a),!0}catch(c){return!1}}};
(!QSI.EventTracker||window.QTest)&&(QSI.EventTracker={counts:{},cookieName:"QSI_CT",clicked:!1,loaded:!1,trackElements:function(){this.loaded===!1&&(this.loadCounts(),this.loaded=!0);var a=QSI.global.eventTrackers,b=this;QSI.util.forOwn(a,function(c,d){var e=a[d];b.trackElement(e,d)}),QSI.util.observe(window,"beforeunload",function(){b.storeCounts()})},trackElement:function(a,b){var c=QSI.util.$(a);if(c){var d=this;QSI.util.observe(c,"click",function(){d.track(b)})}},track:function(a){this.clicked=!0,this.counts[a]?this.counts[a]++:this.counts[a]=1},storeCounts:function(){if(this.clicked===!0){var a=JSON.stringify(this.counts);QSI.cookie.set(this.cookieName,a)}},loadCounts:function(){var a=QSI.cookie.get(this.cookieName);a&&(this.counts=JSON.parse(a))},get:function(a){return this.counts[a]?this.counts[a]:0},incrementEventList:function(){if("_qsie"in window&&QSI.util.isArray(window._qsie))for(var a=0,b=window._qsie.length;b>a;a++){var c=window._qsie[a];QSI.util.isString(c)&&this.track(c)}}});
QSI.localStorage={isLocalStorageEnabled:function(){try{var a="qsi_test_local_storage";return localStorage.setItem(a,"local_storage_test_value"),localStorage.removeItem(a),!0}catch(b){return!1}},set:function(a,b){localStorage.setItem(a,b)},get:function(a){return localStorage.getItem(a)}};
QSI.cookie={set:function(a,b,c,d,e){e=e||{};var f=this.getCookieSize(),g=this.get(a),h=QSI.global.maxCookieSize;g&&(f-=(a+"="+g).length);var i="";if(c){var j=new Date;j.setTime(j.getTime()+864e5*c),i="; expires="+j.toGMTString()}var k="";d?k="domain="+d:QSI.CookieDomain&&(k="domain="+QSI.CookieDomain);var l=a+"="+b,m=f+l.length;if(!(e.force||null!==h&&h>=m||null===h))throw new Error("Cannot exceed the specified maximum cookie size");this.cookieSize=e.erase?f:m,document.cookie=l+i+"; path=/; "+k},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0,e=c.length;e>d;d++){for(var f=c[d];" "==f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b))return f.substring(b.length,f.length)}return null},erase:function(a,b){this.set(a,"",-1,b,{force:!0,erase:!0})},getCookieSize:function(){if(!this.cookieSize){this.cookieSize=0;for(var a=document.cookie.split(";"),b=0,c=a.length;c>b;b++){for(var d=a[b];" "==d.charAt(0);)d=d.substring(1,d.length);d.indexOf("QSI")>=0&&(this.cookieSize+=d.length)}}return this.cookieSize},areCookiesEnabled:function(){try{document.cookie="cookietest=1";var a=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",a}catch(b){return!1}}};
QSI.CookieStorage=function(){function a(){try{var a=QSI.cookie.get(d);a&&(c=JSON.parse(a))}catch(b){c={}}}function b(){try{QSI.cookie.set(d,JSON.stringify(c))}catch(a){}}var c={},d="QSI_DATA";return a(),{setItem:function(a,d){c[a]=d,b()},getItem:function(a){return c[a]||null},removeItem:function(a){delete c[a],b()},reload:a,clear:function(){c={},b()}}}();
(void 0===window.QSI.LoadingAnimationElement||window.QTest)&&(QSI.LoadingAnimationElement=QSI.util.Class({initialize:function(){this.count=0,this.intervalID=0,this.animationDiv=null,this.animationBuilt=!1,this.animationStarted=!1},buildAnimation:function(a,b,c){var d=a/5*2;for(this.animationDiv=QSI.util.build("div",{style:{width:a+"px",height:a+"px",zindex:QSI.global.currentZIndex++,position:"absolute",top:b+"px",left:c+"px"}},[]),i=0;i<8;i++){var e="rotate("+45*i+"deg) translate(0, -"+d+"px)",f=QSI.util.build("div",{style:{position:"absolute",top:a/2-a/6+"px",left:a/2-a/20+"px",width:a/10+"px",height:a/3+"px",background:"#000",transform:e,"-ms-transform":e,"-moz-transform":e,"-webkit-transform":e,opacity:.12*(i+1)}},[]);this.animationDiv.appendChild(f)}return this.animationBuilt=!0,this.animationDiv},startAnimation:function(a){var b=this;this.animationBuilt&&(this.intervalID=window.setInterval(function(){var a="rotate("+b.count+"deg)";QSI.util.setStyle(b.animationDiv,{transform:a,"-ms-transform":a,"-moz-transform":a,"-webkit-transform":a}),360==b.count&&(b.count=0),b.count+=45},a),this.animationStarted=!0)},stopAnimation:function(){this.animationStarted&&(window.clearInterval(this.intervalID),QSI.util.remove(this.animationDiv))}}));
QSI.PipedText={locators:[],setLocators:function(a){this.locators=[];for(var b=0,c=a.length;c>b;b++){var d=a[b],e={locator:d[0],prefix:d[1],type:d[2],expression:d[3]};this.locators.push(e)}},evaluateLocators:function(a,b){if(0===this.locators.length)return"";for(var c=0,d=this.locators.length;d>c;c++){var e=this.locators[c],f=e.type,g=new RegExp("\\"+this.escapeRegex(e.locator));if("SI"==e.prefix)switch(f){case"J":a=a.replace(g,QSI.EmbeddedData.getJavaScriptValue(e.expression));break;case"H":a=a.replace(g,QSI.EmbeddedData.getHTMLFromDOM(e.expression));break;case"U":a=a.replace(g,QSI.EmbeddedData.getURLParameter(e.expression));break;case"C":a=a.replace(g,QSI.EmbeddedData.getCookieVal(e.expression));break;case"W":b&&(a=a.replace(g,QSI.util.buildWidget(e.expression,b)))}else a=a.replace(g,"")}return a},escapeRegex:function(a){var b=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return a.replace(b,"\\$&")}};
QSI.BuildElementModule={buildElement:function(a){a.unitsOfMeasurement||(a.unitsOfMeasurement={},a.unitsOfMeasurement.width="px",a.unitsOfMeasurement.height="px");var b;if(!a.type||!this["build"+a.type+"Element"])return null;b=this["build"+a.type+"Element"](a),a&&a.events&&QSI.util.processElementEvents(a.events,b,this);var c=QSI.util.createArrayFromIterable(b.getElementsByTagName("img"));if(this.shouldPreloadImages===!1)for(var d=0,e=c.length;e>d;d++){var f=c[d];f.setAttribute("data-src",f.src),f.src=""}var g=QSI.util.createArrayFromIterable(b.getElementsByTagName("iframe")),h=c.concat(g);return b.loadingDeferred=this.combineElementLoadEvents(h),b},combineElementLoadEvents:function(a){function b(a){var b=a.target||a.srcElement;(b.getAttribute("src")||!b.getAttribute("data-src"))&&e()}for(var c=QSI.util.Deferred(),d=a.length,e=function(){--d<=0&&c.resolve()},f=0,g=a.length;g>f;f++){var h=a[f];!h.complete||h.notComplete?QSI.util.observe(h,"load",b):d--}return 0===d&&c.resolve(),c.promise()},buildGenericElement:function(a){var b=this.buildBaseElement(a);return b},buildPopOverElement:function(a){var b=this.buildBaseElement(a);return b},buildTextElement:function(a){var b=this.buildBaseElement(a);return b},buildImageElement:function(a){var b=this.buildBaseElement(a);return b},wrapForIE:function(a,b,c){var d="Internet Explorer"===QSI.Browser.name,e="transparent"===b.style.backgroundColor;if(d&&e||d&&c){var f=this.buildBaseElement(b);return a.style.top=0,a.style.left=0,a.style.right=0,a.style.bottom=0,a.style.filter="alpha(opacity=0.1)",a.style.opacity="0.001",a.style.backgroundColor="white",f.appendChild(a),f}return a},buildTargetElement:function(a){var b=this.buildBaseElement(a);b.style.cursor="pointer",b.setAttribute("data-type","target");var c=this;this.addEmbeddedDataToGlobalInstance(a);var d=new QSI.Target(b,this.getTargetHelper(a.embeddedData||[]),this.actionOptions,this);return d.complete().done(function(){c.closeOnTargetClick?c.closeOnTargetClick():c.close()}),this.wrapForIE(b,a)},addEmbeddedDataToGlobalInstance:function(a){if(QSI&&QSI.ed&&a&&a.embeddedData)for(var b=0;b<a.embeddedData.length;b++)QSI.ed[this.id].push(a.embeddedData[b])},buildSpanElement:function(a){this.position=a.positionAnchors.positionY;var b=this.buildBaseElement(a);return b.style.width="100%",b},buildTargetSpanElement:function(a){this.position=a.positionAnchors.positionY;var b=this.buildBaseElement(a);b.style.width="100%",b.style.cursor="pointer",this.addEmbeddedDataToGlobalInstance(a);var c=this,d=new QSI.Target(b,this.getTargetHelper(a.embeddedData||[]),this.actionOptions);return d.complete().done(function(){c.closeOnTargetClick?c.closeOnTargetClick():c.close()}),b},buildEmbeddedTargetElement:function(a){this.hasIframe=!0;var b=this.getTarget(a.embeddedData||[]),c=a.style.width,d=a.style.height;"%"==a.unitsOfMeasurement.width&&(c=100),"%"==a.unitsOfMeasurement.height&&(d=100);var e=QSI.util.build("iframe",{"data-src":b,width:"100%",height:"100%",style:{},frameBorder:0});this.getEmbeddedTargets().push(e);var f=QSI.util.build("div",{className:"scrollable",style:{width:c+a.unitsOfMeasurement.width,height:d+a.unitsOfMeasurement.height,overflow:"none"}},[e]);QSI.Browser.isMobile&&QSI.util.setStyle(f,{overflow:"auto"}),this.displayed.then(function(){QSI.util.setStyle(f,{webkitTransform:"translateZ(0)"})}),a.content=f;var g=this.buildBaseElement(a);return g},buildCloseButtonElement:function(a){var b=this.buildBaseElement(a);this.fixTransparentWithOpacity(b),b.style.cursor="pointer";var c=this;return b.onclick=function(){c.onCloseClick()},this.wrapForIE(b,a,!0)},fixTransparentWithOpacity:function(a){var b,c,d,e;if(QSI.util.isIE(7)||QSI.util.isIE(8))for(b=a.getElementsByTagName("img"),c=0,d=b.length;d>c;c++)e=b[c],e.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF, endColorstr=#00FFFFFF);"},buildBaseElement:function(a){var b,c,d=a.style,e=a.unitsOfMeasurement,f=a.position,g={style:this.getElementStyle(d,f,e)},h=this.getYPosition(f),i=this.getXPosition(f);return this.setPositionStyles(g,a),a.style.backgroundImage&&(g.style.backgroundImage="url("+a.style.backgroundImage+")"),100!=a.style.opacity&&(g.style.opacity=a.style.opacity/100,g.style.filter="alpha(opacity = "+a.style.opacity+")"),b=QSI.util.build("div",g,[this.getElementContents(a)]),a.dropShadow&&this.appendDropShadow(a,b),c=QSI.util.getDimensions(b),b.bc={x:i+c.width,y:h+c.height},b},getElementContents:function(a){var b=a.style,c=a.unitsOfMeasurement,d=this.getContentDims(b.width,b.height,c),e=QSI.util.build("div",{style:{position:"absolute",top:0,left:0,width:d.width,height:d.height,overflow:"hidden",display:b.display}});return a.content&&("string"==typeof a.content?e.innerHTML=a.content:"object"==typeof a.content&&e.appendChild(a.content)),e},getContentDims:function(a,b,c){var d=a,e=b;return"%"===c.width&&(d=100),"%"===c.height&&(e=100),{width:d+c.width,height:e+c.height}},appendDropShadow:function(a,b){var c=a.style,d=c.borderWidth,e=a.unitsOfMeasurement;isNaN(d)&&(d=0);var f=this.convertPercentStylesToPixels(c,e),g=Math.floor(1*f.width+2*d),h=Math.floor(1*f.height+2*d);b.insertBefore(this.buildDropShadow(g,h,d),b.childNodes[0])},buildDropShadow:function(a,b,c){var d,e,f,g,h=Math.ceil(-(.1*b))-c,i=Math.ceil(-(.1*a))-c;return d=Math.floor(1.2*a),e=Math.floor(1.2*b),f={width:d+"px",maxWidth:d+"px",height:e+"px",top:h+"px",left:i+"px",position:"absolute"},g=QSI.util.build("img",{src:QSI.global.imagePath+"/siteintercept/popup_shadow_transparent.png",style:f,alt:""})},onCloseClick:function(){this.close()},buildIFrame:function(a,b){var c=QSI.util.build("iframe",{style:{border:"none",position:"absolute",top:0,left:0,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"},width:a+"px",height:b+"px",frameBorder:"0",src:QSI.global.imagePath+"/blank.html"});return c},setPositionStyles:function(a,b){b.positionAnchors||(b.positionAnchors={positionX:"left",positionY:"top"}),this.shouldAnchor&&("left"==b.positionAnchors.positionX?a.style.left=b.position.left+"px":"right"==b.positionAnchors.positionX?a.style.right=b.position.right+"px":"center"==b.positionAnchors.positionX&&this.centerHorizontally(a,b),"top"==b.positionAnchors.positionY?a.style.top=b.position.top+"px":"bottom"==b.positionAnchors.positionY?a.style.bottom=b.position.bottom+"px":"center"==b.positionAnchors.positionY&&this.centerVertically(a,b))},centerHorizontally:function(a,b){this.centerDim(a,b.style.width,"width","left",b.unitsOfMeasurement)},centerVertically:function(a,b){this.centerDim(a,b.style.height,"height","top",b.unitsOfMeasurement)},centerDim:function(a,b,c,d,e){var f=QSI.util.getPageSize(),g=d.charAt(0).toUpperCase()+d.slice(1);"%"===e[c]&&(b=QSI.util.convertPercentToPixel(b,f[c])),a.style[d]="50%",a.style["margin"+g]="-"+Math.ceil(b/2)+"px"},convertPercentStylesToPixels:function(a,b){a=JSON.parse(JSON.stringify(a)),a.width=parseInt(a.width,10),a.height=parseInt(a.height,10);var c=QSI.util.getPageSize();return"%"==b.width&&a.width&&(a.width=QSI.util.convertPercentToPixel(a.width,c.width)),"%"==b.height&&a.height&&(a.height=QSI.util.convertPercentToPixel(a.height,c.height)),a},getYPosition:function(a){return 1*a.top},getXPosition:function(a){return 1*a.left},getElementStyle:function(a,b,c){return{position:"absolute",zIndex:a.zIndex,width:a.width+c.width,height:a.height+c.height,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth+"px",borderColor:a.borderColor,borderStyle:"solid",borderRadius:a.borderRadius+"px",display:a.display}},initializeIframes:function(){var a,b,c,d,e=this.getEmbeddedTargets();for(a=0,b=e.length;b>a;a++)c=e[a],d=c.getAttribute("data-src"),d&&(c.src=d)},getEmbeddedTargets:function(){return this.embeddedTargets||(this.embeddedTargets=[]),this.embeddedTargets}};
(!QSI.Animation||window.QTest)&&(QSI.Animation={supportedProperties:{top:"px",left:"px",right:"px",bottom:"px",width:"px",height:"px",opacity:0},tweens:[],animateStyle:function(a,b,c,d){c=0===c?1:c,this.setUpAnimationFrames();var e=this.getProperties(b,a);return this.startAnimating(e,c||1500,a,d||"easeto")},getProperties:function(a,b){var c={},d=this;return a.from&&(c=a.from,a=a.to),QSI.util.forOwn(a,function(e,f){f in d.supportedProperties&&(a[f]=a[f],void 0!==c[f]?b.style[f]=c[f]+d.supportedProperties[f]:c[f]=parseFloat(QSI.util.removePx(b.style[f])))}),{start:c,end:a}},startAnimating:function(a,b,c,d){var e=this,f=QSI.util.Deferred(),g=new this.Tween(a.start).to(a.end,b).onUpdate(function(){var a=this;QSI.util.forOwn(this,function(b,d){e.setElementStyle(c,d,a[d])})}).onComplete(function(){f.resolve()});return d&&(d=this.getTransitionFunction(d),g.transition(d)),g.start(),this.animating(),f.promise()},getTransitionFunction:function(a){return QSI.Animation.Transitions[a]?QSI.Animation.Transitions[a]:a},setElementStyle:function(a,b,c){a.style[b]=c+this.supportedProperties[b],"opacity"===b&&(a.style.filter="alpha(opacity = "+100*c+")")},animating:function(){QSI.Animation.tweens.length>0&&(QSI.Animation.update(),window.qsiRequestAnimationFrame(QSI.Animation.animating))},setUpAnimationFrames:function(){if(!window.qsiRequestAnimationFrame){for(var a=["ms","moz","webkit","o"],b=0;b<a.length&&!window.qsiRequestAnimationFrame;++b)window.qsiRequestAnimationFrame=window[a[b]+"RequestAnimationFrame"];window.qsiRequestAnimationFrame||(window.qsiRequestAnimationFrame=this.animationFrameHelper())}},animationFrameHelper:function(){var a=0;return function(b){var c=QSI.util.getDateNow(),d=Math.max(0,20-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}},getAll:function(){return this.tweens},removeAll:function(){this.tweens=[]},addTween:function(a){this.tweens.push(a)},update:function(a){var b=0,c=this.tweens.length;for(a=void 0!==a?a:QSI.util.getDateNow();c>b;)this.tweens[b].update(a)?b++:(this.tweens.splice(b,1),c--)},Tween:function(a){var b=a,c={},d={},e=1e3,f=0,g=null,h=QSI.Animation.Transitions.easeto,i=null,j=null;this.to=function(a,b){return null!==b&&(e=b),d=a,this},this.start=function(a){return QSI.Animation.addTween(this),Date&&(g=void 0!==a?a:QSI.util.getDateNow()),g+=f,QSI.util.forOwn(d,function(a,e){if(null!==b[e]){if(d[e]instanceof Array){if(0===d[e].length)return;d[e]=[b[e]].concat(d[e])}c[e]=b[e]}}),this},this.delay=function(a){return f=a,this},this.transition=function(a){return h=a,this},this.onUpdate=function(a){return i=a,this},this.onComplete=function(a){return j=a,this},this.update=function(a){if(g>a)return!0;var f=(a-g)/e;f=f>1?1:f;var k=h(f);for(var l in c)if(c.hasOwnProperty(l)){var m=c[l],n=d[l];b[l]=m+(n-m)*k}return null!==i&&i.call(b,k),1==f?(null!==j&&j.call(b),!1):!0}}},QSI.Animation.Transitions={staticly:function(){return 1},linear:function(a){return a},inquad:function(a){return a*a},easeto:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},sinoidal:function(a){return-Math.cos(a*Math.PI)/2+.5},reverse:function(a){return 1-a},bounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin(2*(6*a-1)*Math.PI/2)+1},swingFromTo:function(a){var b=1.70158;return(a/=.5)<1?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},bouncePast:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?2-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)}});
(!QSI.API||window.QTest)&&(QSI.API={load:function(){function a(a){try{if(QSI.reg||this.unloading)return void a.reject();void 0===window.QSI&&(window.QSI={}),void 0===QSI.reg&&(QSI.reg={}),void 0===QSI.ed&&(QSI.ed={}),void 0===QSI.reqID&&(QSI.reqID={}),void 0===QSI.Request&&(QSI.Request={}),QSI.util.forOwn(QSI.reqID,function(b,c){var d={};d.loadingFromAPI=!0,d.id=c,"Editing"===QSI.version&&(d.Q_VERSION="0"),0===c.search(/ZN/)?d.ZoneID=c:d.InterceptID=c,QSI.isDebug&&(d.Q_DEBUG=null),d.deferred=a,function(){QSI.Orchestrator.load(d)}(d)})}catch(b){QSI.dbg.e(b)}}try{var b=QSI.Orchestrator.Deferred(),c=b.promise();return QSI.PendingQueue||(QSI.PendingQueue=[]),QSI.LoadingState&&QSI.LoadingState.length>0?QSI.PendingQueue.push(a.bind(this,b)):a.bind(this,b)(),c}catch(d){QSI.dbg.e(d)}},unload:function(){try{if(QSI.PendingQueue||(QSI.PendingQueue=[]),QSI.LoadingState&&QSI.LoadingState.length>0)return void QSI.PendingQueue.push(QSI.API.unload);this.unloading=!0,QSI.reg&&(QSI.util.forOwn(QSI.reg,function(a,b){var c=QSI.reg[b];c.remove()}),QSI.util.removeObservers()),QSI.debug&&(QSI.util.remove(QSI.util.$("QSI_Debug")),QSI.debuggerHasDisplayed=!1),QSI.reg=void 0,QSI.Request=void 0,this.unloading=!1}catch(a){QSI.dbg.e(a)}},run:function(){try{if(QSI.PendingQueue||(QSI.PendingQueue=[]),QSI.LoadingState&&QSI.LoadingState.length>0)return void QSI.PendingQueue.push(QSI.API.run);QSI.InterceptsRan||void 0===QSI.reg||QSI.RunIntercepts(null,!0)}catch(a){QSI.dbg.e(a)}},Events:{increment:function(a){try{QSI.EventTracker.track(a)}catch(b){QSI.dbg.e(b)}},count:function(a){try{return QSI.EventTracker.get(a)}catch(b){QSI.dbg.e(b)}},push:function(a){try{QSI.EventTracker.track(a)}catch(b){QSI.dbg.e(b)}}}});
QSI.ResolveTimeZone={prepare:function(){var a=new Date,b=-a.getTimezoneOffset()/60;return"&Q_TZ="+b}};
QSI.ResolveTimeOnSite={prepare:function(){var a=QSI.history.getTimeOnSite();return"&Q_TOS="+a}};
QSI.ResolveSiteCatalyst={prepare:function(a){var b="&Q_ASC=";if(a)if(QSI.util.isString(a))b+=encodeURIComponent(a+"*|*"+this.getValue(a));else{for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d];c.push(f+"*|*"+this.getValue(f))}b+=encodeURIComponent(c.join("*,*"))}return b},getValue:function(a){var b=a.split(".");this.adobeVar=this.rootName;for(var c=this.adobeVar.split("."),d=window,e=0;e<c.length;e++){if(!d[c[e]])return"";d=d[c[e]]}for(var f=0,g=b.length;g>f;f++)d&&(d=d[b[f]]);return d?d:""}};
QSI.ResolveSearchTerm={prepare:function(){var a=QSI.history.getSearch();return"&Q_ST="+escape(a)}};
QSI.ResolveResolution={prepare:function(){var a=QSI.util.getPageSize(),b="&Q_VPDIMS=";return b+=a.width,b+="|",b+=a.height,b+="&Q_SDIMS=",b+=screen.width,b+="|",b+=screen.height}};
QSI.ResolveReferrer={prepare:function(){return"&Q_REFER="+encodeURIComponent(QSI.history.getPageReferrer())+"&Q_SREFER="+encodeURIComponent(QSI.history.getSiteReferrer())}};
QSI.ResolveQualtricsSurvey={prepare:function(){}};
QSI.ResolvePageCount={prepare:function(){var a="&Q_RPC=",b=QSI.history.getPageCount();return a+=b.total+"|"+b.unique}};
QSI.ResolveJavaScript={prepare:function(a){var b="&Q_RJS=";if(a){var c=a,d=[];QSI.util.forOwn(c,function(a,b){var e=QSI.EmbeddedData.getJavaScriptValue(c[b]);d.push(b+"*:*"+e)}),b+=encodeURIComponent(d.join("*|*"))}return b}};
QSI.ResolveIntercept={prepare:function(){var a="&Q_INTER=",b=null;try{b=JSON.parse(QSI.localStorage.get("Q_INTER"))}catch(c){return a}var d=[],e=0;if(null!==b){for(var f in b)b.hasOwnProperty(f)&&(d[e]=f+"*:*"+b[f],e++);a+=escape(d.join("*|*"))}return a}};
QSI.ResolveHTML={prepare:function(a){var b="&Q_RHTML=";if(a){for(var c=a,d=[],e=0,f=c.length;f>e;e++){var g=QSI.EmbeddedData.getHTMLFromDOM(c[e]);d[e]=c[e]+"*:*"+escape(g)}b+=escape(d.join("*|*"))}return b}};
QSI.ResolveHistory={prepare:function(){var a=QSI.history.get();return"&Q_HIST="+escape(a)}};
QSI.ResolveEventTracking={prepare:function(a){var b="&Q_RET=";if(a){for(var c=a,d=[],e=0,f=c.length;f>e;e++){var g=QSI.EventTracker.get(c[e]);d[e]=c[e]+"*:*"+escape(g)}b+=escape(d.join("*|*"))}return b}};
QSI.ResolveCookie={prepare:function(a){var b="&Q_COOK=";if(a){for(var c=a,d=[],e=0,f=c.length;f>e;e++){var g=QSI.cookie.get(c[e]);null===QSI.cookie.get(c[e])&&(g=""),d[e]=c[e]+"*:*"+g}b+=escape(d.join("*|*"))}return b}};
QSI.ResolveActionSet={prepare:function(a){var b="&Q_RAS=";if(a){var c=a,d=[];QSI.util.forOwn(c,function(a,b){var e=QSI.history.getActionSetHistory(b,!c[b]);d.push(b+"|"+c[b]+"*:*"+escape(e))}),b+=escape(d.join("*|*"))}return b}};
